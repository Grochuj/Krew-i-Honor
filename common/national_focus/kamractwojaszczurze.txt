focus_tree = {
    id = kam_focus

    country = {
        base = 0
        modifier = {
            add = 10
            tag = KAM
        }
    }
    shared_focus = np_removing_focus_1

#DRZEWKO PRZEMYSŁOWE#

    focus = {
        id = KAM_przem1
        icon = GFX_focus_generic_improve_roads
        cost = 5
        x = 7
        y = 0
        completion_reward = {
            112 = {
                add_building_construction = {
                    type = infrastructure
                    level = 2
                }
            }
            68 = {
                add_building_construction = {
                    type = infrastructure
                    level = 2
                }
            }
            70 = {
                add_building_construction = {
                    type = infrastructure
                    level = 1
                }
            }
            205 = {
                add_building_construction = {
                    type = infrastructure
                    level = 1
                }
            }
        }
    }
    focus = {
        id = KAM_przem2
        icon = GFX_focus_generic_supply_line
        cost = 5
        relative_position_id = KAM_przem1
        x = 0
        y = 1

        prerequisite = {
            focus = KAM_przem1    
        }

        completion_reward = {
            build_railway = {
                path = { 2109 3607 3611 3606 2922 4180 3637 3632 3639 3755 3775 3758 3772 3773 3768 1170 1181 1173 2557 3370 3369 3363 }
                level = 3
            }
            214 = {
                add_building_construction = {
                    type = supply_node
                    level = 1
                    province = 3755
                }
            }
        }
    }
    focus = {
        id = KAM_przem3
        icon = GFX_focus_generic_industrialists
        cost = 10
        relative_position_id = KAM_przem2
        x = 0
        y = 1

        prerequisite = {
            focus = KAM_przem2    
        }

        completion_reward = {
            random_owned_controlled_state = {
                add_building_construction = {
                    type = industrial_complex
                    level = 2
                }
            }
            random_owned_controlled_state = {
                add_building_construction = {
                    type = industrial_complex
                    level = 2
                }
            }
            random_owned_controlled_state = {
                add_building_construction = {
                    type = industrial_complex
                    level = 2
                }
            }
        }
    }
    focus = {
        id = KAM_przem4
        icon = GFX_focus_generic_aluminum
        cost = 10
        relative_position_id = KAM_przem3
        x = 0
        y = 1

        prerequisite = {
            focus = KAM_przem3   
        }

        completion_reward = {
            add_resource = {
                type = aluminium
                amount = 16
                state = 165
            }
        }
    }
    focus = {
        id = KAM_rozwojladka
        icon = GFX_focus_peopleup
        cost = 10
        relative_position_id = KAM_przem4
        x = -2
        y = 1

        available = {
            165 = {
                industrial_complex > 0
                infrastructure > 2
            }
        }

        prerequisite = {
            focus = KAM_przem4   
        }

        completion_reward = {
            165 = {
                set_state_category = town
                add_manpower = 25000
            }
        }
    }
    focus = {
        id = KAM_przem5
        icon = GFX_focus_factory1
        cost = 8
        relative_position_id = KAM_przem4
        x = 0
        y = 1

        prerequisite = {
            focus = KAM_przem4   
        }

        completion_reward = {
            random_owned_controlled_state = {
                add_extra_state_shared_building_slots = 3
            }
            random_owned_controlled_state = {
                add_extra_state_shared_building_slots = 2
            }
        }
    }
    focus = {
        id = KAM_przem6
        icon = GFX_goal_generic_construct_civilian
        cost = 8
        relative_position_id = KAM_przem5
        x = 0
        y = 1

        prerequisite = {
            focus = KAM_przem5
        }

        completion_reward = {
            random_owned_controlled_state = {
                add_building_construction = {
                    type = industrial_complex
                    level = 2
                }
            }
            random_owned_controlled_state = {
                add_building_construction = {
                    type = industrial_complex
                    level = 2
                }
            }
        }
    }
    focus = {
        id = KAM_focus_reaserch1
        icon = GFX_focus_research
        cost = 10
        relative_position_id = KAM_przem6
        x = -3
        y = 1

        allow_branch = {
            tag = KAM
        }

        prerequisite = {
            focus = KAM_przem6
            focus = np_removing_focus_5
        }

        completion_reward = {
            add_research_slot = 1
        }
    }
    focus = {
        id = KAM_przem7
        icon = GFX_focus_generic_rubber
        cost = 10
        relative_position_id = KAM_przem4
        x = 2
        y = 1

        prerequisite = {
            focus = KAM_przem4   
        }

        completion_reward = {
            add_resource = {
                type = rubber
                amount = 12
                state = 214
            }
            add_resource = {
                type = rubber
                amount = 8
                state = 167
            }
        }
    }
    focus = {
        id = KAM_przem8
        icon = GFX_focus_generic_rubber_plantations
        cost = 5
        relative_position_id = KAM_przem7
        x = 0
        y = 1

        prerequisite = {
            focus = KAM_przem7  
        }

        completion_reward = {
            add_tech_bonus = {
                bonus = 1
                uses = 2
                category = cat_synth_rubber
            }
        }
    }

#DRZEWKO ARMII#

    focus = {
        id = KAM_armia_1
        icon = GFX_focus_generic_army_doctrines_2
        cost = 5
        x = 15
        y = 0
        completion_reward = {
            add_doctrine_cost_reduction = {
                uses = 1
                cost_reduction = 0.25
                category = land_doctrine
            }
            army_experience = 35
        }
    }
    focus = {
        id = KAM_focus_wspolne_cwiczenia
        icon = GFX_focus_generic_army_doctrines_2
        cost = 15
        relative_position_id = KAM_focus_armia_r_7
        x = 3
        y = 1

        allow_branch = {
            KAM = {
                has_completed_focus = KAM_przyjazn_z_piwokrata
            }
        }

        prerequisite = {
            focus = KAM_focus_wspolpraca_wojskowa
        }
        prerequisite = {
            focus = KAM_focus_armia_r_7
            focus = KAM_focus_armia_l_7
        }

        completion_reward = {
            army_experience = 35
            add_equipment_to_stockpile = {
                type = infantry_equipment_1
                amount = 15000
            }
        }
    }

#ARMIA - MASS ASSAULT#

    focus = {
        id = KAM_focus_armia_l_1
        icon = GFX_focus_generic_home_defense
        cost = 10
        relative_position_id = KAM_armia_1
        x = -1
        y = 1

        ai_will_do = {
            base = 3
            modifier = {
                AND = {
                    has_war = yes
                    has_manpower < 10000
                }
                factor = 7
            }
        }

        mutually_exclusive = {
            focus = KAM_focus_armia_r_1    
        }

        prerequisite = {
            focus = KAM_armia_1
        }

        completion_reward = {
            add_doctrine_cost_reduction = {
                uses = 2
                cost_reduction = 0.33
                category = cat_mass_assault
            }
        }
    }
    focus = {
        id = KAM_focus_armia_l_2
        icon = GFX_goal_generic_army_doctrines
        cost = 5
        relative_position_id = KAM_focus_armia_l_1
        x = 0
        y = 1

        prerequisite = {
            focus = KAM_focus_armia_l_1
        }

        completion_reward = {
            army_experience = 25
        }
    }
    focus = {
        id = KAM_focus_armia_l_3
        icon = GFX_goal_generic_army_doctrines
        cost = 10
        relative_position_id = KAM_focus_armia_l_2
        x = 0
        y = 1

        prerequisite = {
            focus = KAM_focus_armia_l_2
        }

        completion_reward = {
            add_doctrine_cost_reduction = {
                uses = 1
                cost_reduction = 0.5
                category = cat_mass_assault
            }
        }
    }
    focus = {
        id = KAM_focus_armia_l_4
        icon = GFX_idea_generic_war_preparation
        cost = 10
        relative_position_id = KAM_focus_armia_l_2
        x = -2
        y = 1

        prerequisite = {
            focus = KAM_focus_armia_l_2
        }

        completion_reward = {
            add_tech_bonus = {
                bonus = 0.75
                uses = 2
                category = infantry_weapons
            }
        }
    }
    focus = {
        id = KAM_focus_armia_l_5
        icon = GFX_goal_generic_army_doctrines
        cost = 10
        relative_position_id = KAM_focus_armia_l_4
        x = 0
        y = 1

        prerequisite = {
            focus = KAM_focus_armia_l_4
        }

        completion_reward = {
            add_tech_bonus = {
                bonus = 0.5
                uses = 2
                category = support_tech
            }
        }
    }
    focus = {
        id = KAM_focus_armia_l_6
        icon = GFX_goal_generic_army_doctrines
        cost = 10
        relative_position_id = KAM_focus_armia_l_3
        x = 0
        y = 1

        prerequisite = {
            focus = KAM_focus_armia_l_3
        }

        completion_reward = {
            add_ideas = KAM_idea_rozszerzonypobor
        }
    }
    focus = {
        id = KAM_focus_armia_l_7
        icon = GFX_goal_generic_army_doctrines
        cost = 10
        relative_position_id = KAM_focus_armia_l_6
        x = 0
        y = 1

        prerequisite = {
            focus = KAM_focus_armia_l_6
        }
        prerequisite = {
            focus = KAM_focus_armia_l_5
        }

        completion_reward = {
            112 = {
                add_manpower = 25000
                create_unit = { division = "name = \"1. Specjalna Kamracka Brygada Kawalerii\" division_template = \"Kamracka Brygada Kawalerii\" start_experience_factor = 1" owner = ROOT }
                create_unit = { division = "name = \"2. Specjalna Kamracka Brygada Kawalerii\" division_template = \"Kamracka Brygada Kawalerii\" start_experience_factor = 1" owner = ROOT }
            }
        }
    }

#ARMIA - GRAND BATTLEPLAN#

    focus = {
        id = KAM_focus_armia_r_1
        icon = GFX_focus_generic_anti_tank_guns
        cost = 10
        relative_position_id = KAM_armia_1
        x = 1
        y = 1

        ai_will_do = {
            base = 5
            modifier = {
                has_manpower > 50000
                factor = 2
            }
        }

        mutually_exclusive = {
            focus = KAM_focus_armia_l_1
        }

        prerequisite = {
            focus = KAM_armia_1
        }

        completion_reward = {
            add_doctrine_cost_reduction = {
                uses = 2
                cost_reduction = 0.33
                category = cat_grand_battle_plan
            }
        }
    }
    focus = {
        id = KAM_focus_armia_r_2
        icon = GFX_goal_generic_army_doctrines
        cost = 5
        relative_position_id = KAM_focus_armia_r_1
        x = 0
        y = 1

        prerequisite = {
            focus = KAM_focus_armia_r_1
        }

        completion_reward = {
            army_experience = 25
        }
    }
    focus = {
        id = KAM_focus_armia_r_3
        icon = GFX_goal_generic_army_doctrines
        cost = 10
        relative_position_id = KAM_focus_armia_r_2
        x = 0
        y = 1

        prerequisite = {
            focus = KAM_focus_armia_r_2
        }

        completion_reward = {
            add_doctrine_cost_reduction = {
                uses = 1
                cost_reduction = 0.5
                category = cat_grand_battle_plan
            }
        }
    }
    focus = {
        id = KAM_focus_armia_r_4
        icon = GFX_idea_generic_war_preparation
        cost = 10
        relative_position_id = KAM_focus_armia_r_2
        x = 2
        y = 1

        prerequisite = {
            focus = KAM_focus_armia_r_2
        }

        completion_reward = {
            add_tech_bonus = {
                bonus = 0.5
                uses = 2
                category = infantry_weapons
            }
        }
    }
    focus = {
        id = KAM_focus_armia_r_5
        icon = GFX_goal_generic_army_doctrines
        cost = 10
        relative_position_id = KAM_focus_armia_r_4
        x = 0
        y = 1

        prerequisite = {
            focus = KAM_focus_armia_r_4
        }

        completion_reward = {
            add_tech_bonus = {
                bonus = 0.33
                uses = 3
                category = artillery
            }
        }
    }
    focus = {
        id = KAM_focus_armia_r_6
        icon = GFX_goal_generic_army_doctrines
        cost = 10
        relative_position_id = KAM_focus_armia_r_3
        x = 0
        y = 1

        prerequisite = {
            focus = KAM_focus_armia_r_3
        }

        completion_reward = {
            add_ideas = KAM_idea_plany_wojenne
        }
    }
    focus = {
        id = KAM_focus_armia_r_7
        icon = GFX_goal_generic_army_doctrines
        cost = 10
        relative_position_id = KAM_focus_armia_r_6
        x = 0
        y = 1

        prerequisite = {
            focus = KAM_focus_armia_r_6
        }
        prerequisite = {
            focus = KAM_focus_armia_r_5
        }

        completion_reward = {
            112 = {
                add_manpower = 25000
                create_unit = { division = "name = \"1. Specjalna Kamracka Brygada Kawalerii\" division_template = \"Kamracka Brygada Kawalerii\" start_experience_factor = 1" owner = ROOT }
                create_unit = { division = "name = \"2. Specjalna Kamracka Brygada Kawalerii\" division_template = \"Kamracka Brygada Kawalerii\" start_experience_factor = 1" owner = ROOT }
            }
        }
    }

#LOTNICTWO

    focus = {
        id = KAM_focus_powietrze_1
        icon = GFX_goal_unknown
        cost = 5
        x = 34
        y = 0

        completion_reward = {
            air_experience = 35
        }

        ai_will_do = {
            base = 5

            modifier = {
                has_war = yes
                enemy_has_equal_or_better_radar_tech_trigger = yes
                factor = 5
            }
        }
    }
    focus = {
        id = KAM_focus_rozwoj_baz_lotniczych
        icon = GFX_goal_unknown
        cost = 5
        relative_position_id = KAM_focus_powietrze_1
        x = 0
        y = 1

        prerequisite = {
            focus = KAM_focus_powietrze_1
        }

        completion_reward = {
            112 = {
                add_building_construction = {
                    type = air_base
                    level = 3
                }
            }
            68 = {
                add_building_construction = {
                    type = air_base
                    level = 2
                }
            }
            70 = {
                add_building_construction = {
                    type = air_base
                    level = 2
                }
            }
        }

        ai_will_do = {
            base = 5

            modifier = {
                has_war = yes
                enemy_has_equal_or_better_radar_tech_trigger = yes
                factor = 5
            }
        }
    }
    focus = {
        id = KAM_focus_rozwoj_mysliwcow
        icon = GFX_goal_generic_air_fighter2
        cost = 10
        relative_position_id = KAM_focus_rozwoj_baz_lotniczych
        x = -1
        y = 1

        prerequisite = {
            focus = KAM_focus_rozwoj_baz_lotniczych
        }

        available = {
            has_tech = basic_small_airframe
        }

        completion_reward = {
            add_tech_bonus = {
                bonus = 1.5
                uses = 1
                category = light_air
                ahead_reduction = 2
            }
            
        }

        ai_will_do = {
            base = 5

            modifier = {
                has_war = yes
                enemy_has_equal_or_better_radar_tech_trigger = yes
                factor = 5
            }
        }
    }
    focus = {
        id = KAM_focus_nowy_model_mysliwca
        icon = GFX_goal_generic_air_fighter
        cost = 5
        relative_position_id = KAM_focus_rozwoj_mysliwcow
        x = 0
        y = 1

        prerequisite = {
            focus = KAM_focus_rozwoj_mysliwcow
        }

        available = {
            has_tech = improved_small_airframe
        }

        completion_reward = {
            create_equipment_variant = {
                name = "KZL-28"
                type = small_plane_airframe_2
                modules = {
                    fixed_main_weapon_slot = heavy_mg_4x
                    fixed_auxiliary_weapon_slot_1 = heavy_mg_2x
                    engine_type_slot = engine_4_1x
                    special_type_slot_1 = self_sealing_fuel_tanks_small
                    special_type_slot_2 = fuel_tanks_small
                }
                allow_without_tech = yes
            }
        }

        ai_will_do = {
            base = 5

            modifier = {
                has_war = yes
                enemy_has_equal_or_better_radar_tech_trigger = yes
                factor = 5
            }
        }
    }
    focus = {
        id = KAM_focus_rozwoj_bombowcow
        icon = GFX_goal_generic_air_bomber
        cost = 5
        relative_position_id = KAM_focus_rozwoj_baz_lotniczych
        x = 1
        y = 1

        prerequisite = {
            focus = KAM_focus_rozwoj_baz_lotniczych
        }

        available = {
            has_tech = iw_large_airframe
        }

        completion_reward = {
            add_tech_bonus = {
                bonus = 2
                uses = 2
                category = heavy_air
            }
        }

        ai_will_do = {
            base = 5

            modifier = {
                has_war = yes
                enemy_has_equal_or_better_radar_tech_trigger = yes
                factor = 5
            }
        }
    }
    focus = {
        id = KAM_focus_nowy_model_bombowca
        icon = GFX_goal_generic_air_bomber
        cost = 5
        relative_position_id = KAM_focus_rozwoj_bombowcow
        x = 0
        y = 1

        prerequisite = {
            focus = KAM_focus_rozwoj_bombowcow
        }

        available = {
            has_tech = basic_large_airframe
        }

        completion_reward = {
            create_equipment_variant = {
                name = "L-27"
                type = large_plane_airframe_1
                modules = {
                    fixed_main_weapon_slot = large_bomb_bay
                    fixed_auxiliary_weapon_slot_1 = large_bomb_bay
                    engine_type_slot = engine_3_6x
                    special_type_slot_1 = self_sealing_fuel_tanks_large
                    special_type_slot_2 = fuel_tanks_large
                    special_type_slot_3 = hmg_defense_turret_2x
                }
                allow_without_tech = yes
            }
        }

        ai_will_do = {
            base = 5

            modifier = {
                has_war = yes
                enemy_has_equal_or_better_radar_tech_trigger = yes
                factor = 5
            }
        }
    }
    focus = {
        id = KAM_focus_nowoczesny_samolot
        icon = GFX_goal_generic_air_production
        cost = 10
        relative_position_id = KAM_focus_nowy_model_bombowca
        x = -1
        y = 1

        prerequisite = {
            focus = KAM_focus_nowy_model_bombowca
        }
        prerequisite = {
            focus = KAM_focus_nowy_model_mysliwca
        }

        completion_reward = {
            if = {
                limit = {
                    has_dlc = Gotterdammerung
                }

                add_breakthrough_points = {
                specialization = specialization_air
                value = 3
                }
                if = {
                    limit = {
                        has_built = {
                            type = air_facility
                            value > 0
                        }
                    }

                    112 = {
                        if = {
                            limit = {
                                air_facility = 0
                                land_facility = 0
                            }
                        
                            add_building_construction = {
                                type = air_facility
                                level = 1
                                instant_build = yes
                                province = 2109
                            }
                        }
                    }
                }
            }

            if = {
                limit = {
                    NOT = {
                        has_dlc = Gotterdammerung
                    }
                }

                air_experience = 25
                add_tech_bonus = {
                    bonus = 1
                    uses = 1
                    category = light_air
                    ahead_reduction = 1
                }
            }
        }

        ai_will_do = {
            base = 5

            modifier = {
                has_war = yes
                enemy_has_equal_or_better_radar_tech_trigger = yes
                factor = 5
            }
        }
    }
    focus = {
        id = KAM_focus_fundusz_badan_lotniczych
        icon = GFX_focus_research
        cost = 5
        relative_position_id = KAM_focus_rozwoj_baz_lotniczych
        x = -3
        y = 1

        prerequisite = {
            focus = KAM_focus_rozwoj_baz_lotniczych
        }

        completion_reward = {
            add_tech_bonus = {
                name = "Fundusz Badań Lotniczych"
                bonus = 0.5
                uses = 3
                category = cat_air_engine
                category = cat_air_guns
                category = air_equipment
            }
        }

        ai_will_do = {
            base = 5

            modifier = {
                date > 2027.01.01
                factor = 3
            }
        }
    }

#POLITYCZNE - JAKUBIAK#

    focus = {
        id = KAM_focus_delegacja
        icon = GFX_focus_generic_diplomatic_treaty
        cost = 5
        x = 25
        y = 0
        completion_reward = {
            country_event = kam_event.1
        }
    }

#ŚCIEŻKA PRZYJAŹNI#

    focus = {
        id = KAM_przyjazn_z_piwokrata
        icon = GFX_focus_generic_treaty
        cost = 69
        relative_position_id = KAM_focus_delegacja
        x = -3
        y = 1

        available = {
            always = no
        }

        mutually_exclusive = {
            focus = KAM_smierc_wrogom_ojczyzny   
        }

        prerequisite = {
            focus = KAM_focus_delegacja
        }

        completion_reward = {

        }
    }
    focus = {
        id = KAM_focus_wspolpraca_wojskowa
        icon = GFX_focus_wspolpracaarmia
        cost = 10
        relative_position_id = KAM_przyjazn_z_piwokrata
        x = -1
        y = 1

        prerequisite = {
            focus = KAM_przyjazn_z_piwokrata
        }

        completion_reward = {
            army_experience = 25
            mark_focus_tree_layout_dirty = yes
        }
    }
    focus = {
        id = KAM_focus_wspolpraca_gospodarcza
        icon = GFX_focus_factory_handshake
        cost = 10
        relative_position_id = KAM_przyjazn_z_piwokrata
        x = 1
        y = 1

        prerequisite = {
            focus = KAM_przyjazn_z_piwokrata
        }

        completion_reward = {
            add_offsite_building = {
                type = industrial_complex
                level = 2
            }
            RZP = {
                add_offsite_building = {
                    type = industrial_complex
                    level = 1
                }
            }
        }
    }
    focus = {
        id = KAM_focus_wspolne_koleje
        icon = GFX_focus_train
        cost = 10
        relative_position_id = KAM_focus_wspolpraca_gospodarcza
        x = 0
        y = 1

        prerequisite = {
            focus = KAM_focus_wspolpraca_gospodarcza
        }

        completion_reward = {
            build_railway = {
                path = { 1290 1274 3558 3568 3563 }
                level = 3
            }
            build_railway = {
                path = { 3614 1282 1268 1272 3571 3574 }
                level = 2
            }
        }
    }
    focus = {
        id = KAM_focus_unia_celna
        icon = GFX_focus_wspolpracaarmia
        cost = 10
        relative_position_id = KAM_focus_wspolne_koleje
        x = -1
        y = 1

        prerequisite = {
            focus = KAM_focus_wspolne_koleje
        }

        completion_reward = {
            add_ideas = KAM_idea_uniacelna
        }
    }
    focus = {
        id = KAM_focus_piwo
        icon = GFX_focus_wspolpracaarmia
        cost = 10
        relative_position_id = KAM_focus_wspolne_koleje
        x = -3
        y = 1

        prerequisite = {
            focus = KAM_focus_wspolne_koleje
        }

        completion_reward = {
            add_ideas = KAM_idea_piwodlakamratow
        }
    }
    focus = {
        id = KAM_focus_polaczone_fabryki
        icon = GFX_focus_wspolpracaarmia
        cost = 10
        relative_position_id = KAM_focus_piwo
        x = 1
        y = 1

        prerequisite = {
            focus = KAM_focus_piwo
        }
        prerequisite = {
            focus = KAM_focus_unia_celna
        }

        completion_reward = {
            add_offsite_building = {
                type = arms_factory
                level = 3
            }
            RZP = {
                add_offsite_building = {
                    type = arms_factory
                    level = 2
                }
            }
        }
    }

#ŚCIEŻKA WOJNY#

    focus = {
        id = KAM_smierc_wrogom_ojczyzny
        icon = GFX_focus_generic_attack_poland
        cost = 69
        relative_position_id = KAM_focus_delegacja
        x = 3
        y = 1

        available = {
            always = no
        }

        mutually_exclusive = {
            focus = KAM_przyjazn_z_piwokrata   
        }

        prerequisite = {
            focus = KAM_focus_delegacja
        }

        completion_reward = {
            
        }
    }
    focus = {
        id = KAM_focus_propaganda_wojenna
        icon = GFX_idea_generic_war_preparation
        cost = 5
        relative_position_id = KAM_smierc_wrogom_ojczyzny
        x = 0
        y = 1

        prerequisite = {
            focus = KAM_smierc_wrogom_ojczyzny
        }

        completion_reward = {
            add_war_support = 0.1
        }
    }
    focus = {
        id = KAM_focus_ostateczne_rozwiazanie
        icon = GFX_idea_generic_war_preparation
        cost = 5
        relative_position_id = KAM_focus_propaganda_wojenna
        x = 0
        y = 1

        prerequisite = {
            focus = KAM_focus_propaganda_wojenna
        }

        completion_reward = {
            add_war_support = 0.1
            country_event = kam_event.3
        }
    }
    focus = {
        id = KAM_focus_przygotowanie_ofensywy
        icon = GFX_idea_generic_war_preparation
        cost = 10
        relative_position_id = KAM_focus_ostateczne_rozwiazanie
        x = 1
        y = 1

        available = {
            NOT = {
                has_completed_focus = KAM_focus_a_wiec_wojna
            }
        }

        prerequisite = {
            focus = KAM_focus_ostateczne_rozwiazanie
        }

        completion_reward = {
            set_country_flag = KAM_przygotowanie_done
        }
    }
    focus = {
        id = KAM_focus_nowa_jakosc
        icon = GFX_idea_generic_war_preparation
        cost = 8
        relative_position_id = KAM_focus_przygotowanie_ofensywy
        x = 0
        y = 1

        available = {
            NOT = {
                has_completed_focus = KAM_focus_a_wiec_wojna
            }
        }

        prerequisite = {
            focus = KAM_focus_przygotowanie_ofensywy
        }

        completion_reward = {
            set_country_flag = KAM_nowajakosc_done
        }
    }
    focus = {
        id = KAM_focus_a_wiec_wojna
        icon = GFX_idea_generic_war_preparation
        cost = 10
        relative_position_id = KAM_focus_ostateczne_rozwiazanie
        x = -3
        y = 1

        prerequisite = {
            focus = KAM_focus_ostateczne_rozwiazanie
        }

        will_lead_to_war_with = RZP

        completion_reward = {
            if = {
                limit = {
                    has_country_flag = KAM_przygotowanie_done
                }
                add_dynamic_modifier = {
                    modifier = KAM_przyg_mod
                }
            }
            if = {
                limit = {
                    has_country_flag = KAM_nowajakosc_done
                }
                set_variable = {
                    KAM_przyg_org = 0.35
                }
            }
            KAM = {
                declare_war_on = {
                    target = RZP
                    type = annex_everything
                }
            }
        }
    }
    focus = {
        id = KAM_focus_wielka_kleska
        icon = GFX_idea_generic_war_preparation
        cost = 1
        relative_position_id = KAM_focus_a_wiec_wojna
        x = 2
        y = 1

        available = {
            AND = {
                any_owned_state = {
                    controller = {
                        NOT = {
                            tag = KAM
                        }
                    }
                }
                NOT = {
                    has_completed_focus = KAM_focus_przelamanie
                }
            }
        }

        prerequisite = {
            focus = KAM_focus_a_wiec_wojna
        }

        completion_reward = {
            white_peace = {
                tag = RZP
                message = KAM_przegrana_z_jakubiakiem
            }
            add_war_support = -0.1
            add_stability = -0.1
            add_timed_idea = {
                idea = KAM_idea_przegrana_jakubiak
                months = 9
            }
        }
    }
    focus = {
        id = KAM_focus_przelamanie
        icon = GFX_idea_generic_war_preparation
        cost = 1
        relative_position_id = KAM_focus_a_wiec_wojna
        x = -1
        y = 1

        available = {
            AND = {
                OR = {
                    203 = {
                        controller = {
                            tag = KAM
                        }
                    }
                    132 = {
                        controller = {
                            tag = KAM
                        }
                    }
                    180 = {
                        controller = {
                            tag = KAM
                        }
                    }
                    128 = {
                        controller = {
                            tag = KAM
                        }
                    }
                }
                NOT = {
                    has_completed_focus = KAM_focus_wielka_kleska
                }
            }
        }

        prerequisite = {
            focus = KAM_focus_a_wiec_wojna
        }

        completion_reward = {
            add_war_support = 0.1
            add_timed_idea = {
                idea = KAM_idea_ped_natarcia
                months = 3
            }
        }
    }
    focus = {
        id = KAM_focus_totalerkrieg
        icon = GFX_focus_generic_total_war
        cost = 4
        relative_position_id = KAM_focus_przelamanie
        x = 1
        y = 1

        bypass = {
            KAM = {
                has_war = no
            }
        }

        mutually_exclusive = {
            focus = KAM_focus_koniec_wojny
        }

        prerequisite = {
            focus = KAM_focus_przelamanie
        }

        completion_reward = {
            add_war_support = 0.05
            remove_dynamic_modifier = {
                modifier = KAM_przyg_mod
            }
        }
    }
    focus = {
        id = KAM_focus_koniec_wojny
        icon = GFX_focus_generic_total_war
        cost = 4
        relative_position_id = KAM_focus_przelamanie
        x = -1
        y = 1

        bypass = {
            KAM = {
                has_war = no
            }
        }

        mutually_exclusive = {
            focus = KAM_focus_totalerkrieg
        }

        prerequisite = {
            focus = KAM_focus_przelamanie
        }

        completion_reward = {
            add_stability = 0.05
            white_peace = {
                tag = RZP
                message = KAM_wygrana_z_jakubiakiem
            }
            if = {
                limit = {
                    has_war_with = RPL
                }
                white_peace = RPL
            }
            transfer_state = 132
            transfer_state = 203
            transfer_state = 180
            transfer_state = 242
            transfer_state = 240
            remove_dynamic_modifier = {
                modifier = KAM_przyg_mod
            }
        }
    }
    focus = {
        id = KAM_focus_integracja_nowych_ziem
        icon = GFX_focus_generic_farmland
        cost = 10
        relative_position_id = KAM_focus_totalerkrieg
        x = -1
        y = 1

        available = {
            AND = {
                132 = {
                    is_owned_and_controlled_by = KAM
                }
                203 = {
                    is_owned_and_controlled_by = KAM
                }
                180 = {
                    is_owned_and_controlled_by = KAM
                }
                242 = {
                    is_owned_and_controlled_by = KAM
                }
                240 = {
                    is_owned_and_controlled_by = KAM
                }
            }
        }

        prerequisite = {
            focus = KAM_focus_totalerkrieg
            focus = KAM_focus_koniec_wojny
        }

        completion_reward = {
            203 = {
                add_building_construction = {
                    type = infrastructure
                    level = 1
                }
            }
            240 = {
                add_building_construction = {
                    type = infrastructure
                    level = 1
                }
            }
            180 = {
                add_building_construction = {
                    type = infrastructure
                    level = 2
                }
            }
            132 = {
                add_building_construction = {
                    type = infrastructure
                    level = 2
                }
            }
            242 = {
                add_building_construction = {
                    type = infrastructure
                    level = 2
                }
            }
            build_railway = {
                path = { 1290 1274 3558 3568 3563 }
                level = 3
            }
            build_railway = {
                path = { 3614 1282 1268 1272 3571 3574 }
                level = 2
            }
        }
    }
    focus = {
        id = KAM_focus_nowi_lepsi_ludzie
        icon = GFX_focus_generic_farmland
        cost = 15
        relative_position_id = KAM_focus_integracja_nowych_ziem
        x = 0
        y = 1

        available = {
            AND = {
                132 = {
                    is_owned_and_controlled_by = KAM
                }
                203 = {
                    is_owned_and_controlled_by = KAM
                }
                180 = {
                    is_owned_and_controlled_by = KAM
                }
                242 = {
                    is_owned_and_controlled_by = KAM
                }
                240 = {
                    is_owned_and_controlled_by = KAM
                }
            }
        }

        prerequisite = {
            focus = KAM_focus_integracja_nowych_ziem
        }

        completion_reward = {
            132 = {
                add_core_of = KAM
                set_state_name = "Obwód Namysłowski"
                add_manpower = 20000
            }
            240 = {
                add_core_of = KAM
                set_state_name = "Obwód Grunwaldzki"
                set_state_category = large_town
                add_manpower = 35000
            }
            set_province_name = {
                id = 4158
                name = KAM_Grodno
            }
            203 = {
                add_core_of = KAM
                set_state_name = "Obwód Opolski"
                add_manpower = 30000
            }
        }
    }

#POLITYCZNE GŁÓWNE#

    focus = {
        id = KAM_focus_sytuacja_zewnetrzna
        icon = GFX_focus_hol_the_foundations_of_defense
        cost = 5
        x = 15
        y = 7
        completion_reward = {
            add_political_power = 50
        }
    }
    
#POLITYCZNE PIS#

    focus = {
        id = KAM_focus_za_karolem
        icon = GFX_focus_generic_farmland
        cost = 10
        relative_position_id = KAM_focus_sytuacja_zewnetrzna
        x = -6
        y = 1

        ai_will_do = {
            base = 5
            modifier = {
                AND = {
                    has_opinion = {
                        target = NRP
                        value > 0
                    }
                }
                set_temp_variable = {
                    t = opinion@RPL
                }
                divide_temp_variable = {
                    t = 10
                }
                round_temp_variable = t
                add = t
            }
            modifier = {
                factor = 3
            }
        }

        mutually_exclusive = {
            focus = KAM_focus_kamraci_z_braunem
            focus = KAM_focus_indywidualizm
        }

        prerequisite = {
            focus = KAM_focus_sytuacja_zewnetrzna
        }

        completion_reward = {
            
        }
    }

#POLITYCZNE INDYWIDUALNE#

    focus = {
        id = KAM_focus_indywidualizm
        icon = GFX_focus_generic_farmland
        cost = 10
        relative_position_id = KAM_focus_sytuacja_zewnetrzna
        x = 0
        y = 1

        ai_will_do = {
            base = 3
            modifier = {
                AND = {
                    has_opinion = {
                        target = RPL
                        value < 0
                    }
                    has_opinion = {
                        target = NRP
                        value < 0
                    }
                }
                factor = 20
            }
        }

        mutually_exclusive = {
            focus = KAM_focus_za_karolem
            focus = KAM_focus_kamraci_z_braunem
        }

        prerequisite = {
            focus = KAM_focus_sytuacja_zewnetrzna
        }

        completion_reward = {
            
        }
    }
    focus = {
        id = KAM_focus_narod_najwazniejszy
        icon = GFX_focus_AFG_a_modern_economy
        cost = 10
        relative_position_id = KAM_focus_indywidualizm
        x = 0
        y = 1

        ai_will_do = {
            base = 10
        }

        prerequisite = {
            focus = KAM_focus_indywidualizm
        }

        completion_reward = {
            add_ideas = closed_economy
        }
    }
    focus = {
        id = KAM_focus_narodowy_plan_obrony
        icon = GFX_goal_generic_defence
        cost = 10
        relative_position_id = KAM_focus_narod_najwazniejszy
        x = -2
        y = 1

        ai_will_do = {
            base = 10
        }

        prerequisite = {
            focus = KAM_focus_narod_najwazniejszy
        }

        completion_reward = {
            add_ideas = KAM_idea_narodowyplanobrony
        }
    }
    focus = {
        id = KAM_focus_twierdza_klodzko
        icon = GFX_goal_generic_fortify_city
        cost = 7
        relative_position_id = KAM_focus_narodowy_plan_obrony
        x = 0
        y = 2

        ai_will_do = {
            base = 2
        }

        prerequisite = {
            focus = KAM_focus_narodowy_plan_obrony
        }

        completion_reward = {
            70 = {
                add_building_construction = {
                    type = bunker
                    level = 3
                    province = 1290
                }
                add_building_construction = {
                    type = bunker
                    level = 5
                    province = 1278
                }
                add_building_construction = {
                    type = bunker
                    level = 2
                    province = 1279
                }
                add_building_construction = {
                    type = bunker
                    level = 2
                    province = 1274
                }
                add_building_construction = {
                    type = bunker
                    level = 2
                    province = 1288
                }
                add_building_construction = {
                    type = bunker
                    level = 2
                    province = 1270
                }
                add_building_construction = {
                    type = bunker
                    level = 2
                    province = 1272
                }
            }
        }
    }
    focus = {
        id = KAM_focus_fortyfikacja_krakowa
        icon = GFX_goal_generic_fortify_city
        cost = 7
        relative_position_id = KAM_focus_twierdza_klodzko
        x = -1
        y = -1

        ai_will_do = {
            base = 2
        }

        prerequisite = {
            focus = KAM_focus_narodowy_plan_obrony
        }

        completion_reward = {
            68 = {
                add_building_construction = {
                    type = bunker
                    level = 3
                    province = 1247
                }
                add_building_construction = {
                    type = bunker
                    level = 2
                    province = 1235
                }
                add_building_construction = {
                    type = bunker
                    level = 2
                    province = 1251
                }
                add_building_construction = {
                    type = bunker
                    level = 2
                    province = 1256
                }
                add_building_construction = {
                    type = bunker
                    level = 2
                    province = 1240
                }
                add_building_construction = {
                    type = bunker
                    level = 1
                    province = 1239
                }
            }
        }
    }
    focus = {
        id = KAM_focus_fortyfikacja_otwocka
        icon = GFX_goal_generic_fortify_city
        cost = 7
        relative_position_id = KAM_focus_twierdza_klodzko
        x = 1
        y = -1

        ai_will_do = {
            base = 2
        }

        prerequisite = {
            focus = KAM_focus_narodowy_plan_obrony
        }

        completion_reward = {
            112 = {
                add_building_construction = {
                    type = bunker
                    level = 4
                    province = 2109
                }
                add_building_construction = {
                    type = bunker
                    level = 3
                    province = 2094
                }
                add_building_construction = {
                    type = bunker
                    level = 3
                    province = 2081
                }
                add_building_construction = {
                    type = bunker
                    level = 2
                    province = 2098
                }
            }
        }
    }
    focus = {
        id = KAM_focus_ekonomiczna_izolacja
        icon = GFX_idea_isolation
        cost = 10
        relative_position_id = KAM_focus_narod_najwazniejszy
        x = 2
        y = 1

        ai_will_do = {
            base = 25
            modifier = {
                num_of_available_civilian_factories < 15
                factor = 0.2
            }
        }

        prerequisite = {
            focus = KAM_focus_narod_najwazniejszy
        }

        completion_reward = {
            add_ideas = KAM_idea_ekonomicznaizolacja
        }
    }
    focus = {
        id = KAM_focus_poszukiwanie_terytoriow
        icon = GFX_idea_isolation
        cost = 10
        relative_position_id = KAM_focus_ekonomiczna_izolacja
        x = 0
        y = 1

        available = {
            NOT = {
                any_owned_state = {
                    free_building_slots = {
                        building = arms_factory
                        size = 1
                    }
                }
            }
        }

        ai_will_do = {
            base = 50
        }

        prerequisite = {
            focus = KAM_focus_ekonomiczna_izolacja
        }

        completion_reward = {
            
        }
    }
    focus = {
        id = KAM_focus_cel_rzp
        icon = GFX_focus_generic_total_war
        cost = 10
        relative_position_id = KAM_focus_poszukiwanie_terytoriow
        x = -1
        y = 1

        will_lead_to_war_with = RZP

        ai_will_do = {
            base = 50
        }

        available = {
            NOT = {
                has_completed_focus = KAM_przyjazn_z_piwokrata
            }
        }

        prerequisite = {
            focus = KAM_focus_poszukiwanie_terytoriow
        }

        bypass = {
            RZP = {
                exists = no
            }
        }

        completion_reward = {
            if = {
                limit = {
                    owns_state = 132
                    owns_state = 203
                    owns_state = 180
                    owns_state = 242
                    owns_state = 240
                }
                create_wargoal = {
                    target = RZP
                    type = annex_everything
                }
            }
            if = {
                limit = {
                    NOT = {
                        owns_state = 132
                    }
                    NOT = {
                        owns_state = 203
                    }
                    NOT = {
                        owns_state = 180
                    }
                    NOT = {
                        owns_state = 242
                    }
                    NOT = {
                        owns_state = 240
                    }
                }
                create_wargoal = {
                    target = RZP
                    type = take_state
                    generator = {
                        132 203 180 242 240
                    }
                }
            }
        }
    }
    focus = {
        id = KAM_focus_cel_nrp
        icon = GFX_focus_generic_total_war
        cost = 10
        relative_position_id = KAM_focus_poszukiwanie_terytoriow
        x = 1
        y = 1

        will_lead_to_war_with = NRP

        ai_will_do = {
            base = 50
        }

        prerequisite = {
            focus = KAM_focus_poszukiwanie_terytoriow
        }

        bypass = {
            ROOT = {
                owns_state = 79
                owns_state = 173
                owns_state = 230
            }
        }

        completion_reward = {
            create_wargoal = {
                target = NRP
                type = take_state
                generator = {
                    79 173 230
                }
            }
        }
    }

#POLITYCZNE BRAUN#

    focus = {
        id = KAM_focus_kamraci_z_braunem
        icon = GFX_focus_generic_farmland
        cost = 10
        relative_position_id = KAM_focus_sytuacja_zewnetrzna
        x = 6
        y = 1

        ai_will_do = {
            base = 5
            modifier = {
                AND = {
                    has_opinion = {
                        target = NRP
                        value > 0
                    }
                }
                set_temp_variable = {
                    t = opinion@NRP
                }
                divide_temp_variable = {
                    t = 10
                }
                round_temp_variable = t
                add = t
            }
            modifier = {
                factor = 3
            }
        }

        mutually_exclusive = {
            focus = KAM_focus_indywidualizm
            focus = KAM_focus_za_karolem
        }

        prerequisite = {
            focus = KAM_focus_sytuacja_zewnetrzna
        }

        completion_reward = {
            
        }
    }
}